import{a as N,b as z,c as j,d as A,e as $,f as B,g as G,h as R,i as Y,j as q,k as H,l as Q,m as U}from"./chunk-Y6UHKM7Y.js";import{Ca as E,I as w,Ma as T,N as v,Na as S,Oa as O,Pa as I,Qa as _,Ra as t,S as p,Sa as n,T as m,Ta as u,Wa as k,Xa as c,Ya as d,a as M,ab as y,b as P,ba as h,bb as V,cb as F,db as f,eb as a,fb as g,gb as D,mb as b,pa as r}from"./chunk-T7T3UJF6.js";var C=class l{defaultTasks=[{id:1,title:"Apprendre Angular",priority:"high",status:"doing"},{id:2,title:"Cr\xE9er TaskBoard Pro",priority:"low",status:"todo"}];tasksSignal=h(this.defaultTasks);tasks=this.tasksSignal.asReadonly();doingCount=b(()=>this.tasks().filter(i=>i.status==="doing").length);doneCount=b(()=>this.tasks().filter(i=>i.status==="done").length);todoCount=b(()=>this.tasks().filter(i=>i.status==="todo").length);progressPercentage=h(0);constructor(){}async calculatePercentageAsync(){await new Promise(s=>setTimeout(s,1e3));let i=this.tasksSignal(),e=i.length,o=i.filter(s=>s.status==="done").length;e===0?this.progressPercentage.set(0):this.progressPercentage.set(Math.round(o/e*100))}addTask(i,e){let o={id:Date.now(),title:i,priority:e,status:"todo"};this.tasksSignal.update(s=>[o,...s]),this.calculatePercentageAsync()}deleteTask(i){this.tasksSignal.update(e=>e.filter(o=>o.id!==i)),this.calculatePercentageAsync()}updateTask(i){this.tasksSignal.update(e=>e.map(o=>o.id===i.id?i:o)),this.calculatePercentageAsync()}static \u0275fac=function(e){return new(e||l)};static \u0275prov=w({token:l,factory:l.\u0275fac,providedIn:"root"})};var X=(l,i)=>i.id;function Z(l,i){if(l&1){let e=k();t(0,"div",26),u(1,"input",28,0),t(3,"select",29,1)(5,"option",30),a(6,"\xC0 faire"),n(),t(7,"option",31),a(8,"En cours"),n(),t(9,"option",32),a(10,"Termin\xE9"),n()(),t(11,"div",33)(12,"button",34),c("click",function(){p(e);let s=y(2),x=y(4),K=d().$implicit,L=d();return m(L.saveEdit(K,s.value,x.value))}),a(13,"Success"),n(),t(14,"button",35),c("click",function(){p(e);let s=d(2);return m(s.cancelEdit())}),a(15,"Cancel"),n()()()}if(l&2){let e=d().$implicit;r(),_("value",e.title),r(2),_("value",e.status)}}function ee(l,i){if(l&1){let e=k();t(0,"div",27)(1,"span",36),a(2),n(),t(3,"div",37)(4,"span",38),a(5),n(),t(6,"span",39),a(7),n()(),t(8,"div",40)(9,"button",41),c("click",function(){p(e);let s=d().$implicit,x=d();return m(x.openTaskDetails(s))}),u(10,"i",42),n(),t(11,"button",43),c("click",function(){p(e);let s=d().$implicit,x=d();return m(x.startEdit(s.id))}),a(12,"Modif."),n(),t(13,"button",44),c("click",function(){p(e);let s=d().$implicit,x=d();return m(x.onDelete(s.id))}),u(14,"i",45),n()()()}if(l&2){let e=d().$implicit;r(2),g(e.title),r(2),f(e.status),r(),g(e.status),r(),f(e.priority),r(),g(e.priority)}}function te(l,i){if(l&1&&(t(0,"li",25),T(1,Z,16,2,"div",26)(2,ee,15,7,"div",27),n()),l&2){let e=i.$implicit,o=d();F("editing",o.editingTaskId===e.id),r(),S(o.editingTaskId===e.id?1:2)}}function ne(l,i){l&1&&(t(0,"li"),a(1,"Aucune t\xE2che pour le moment."),n())}function ie(l,i){if(l&1){let e=k();t(0,"div",46),c("click",function(){p(e);let s=d();return m(s.closeTaskDetails())}),t(1,"div",47),c("click",function(s){return p(e),m(s.stopPropagation())}),t(2,"div",48)(3,"h2"),a(4,"D\xE9tails de la t\xE2che"),n(),t(5,"button",49),c("click",function(){p(e);let s=d();return m(s.closeTaskDetails())}),a(6,"\xD7"),n()(),t(7,"div",50)(8,"div",51)(9,"label"),a(10,"Titre :"),n(),t(11,"h1"),a(12),n()(),t(13,"div",52)(14,"div")(15,"label"),a(16,"Priorit\xE9 :"),n(),t(17,"span",53),a(18),n()(),t(19,"div")(20,"label"),a(21,"Statut :"),n(),t(22,"span",54),a(23),n()()()(),t(24,"div",55)(25,"button",56),c("click",function(){p(e);let s=d();return m(s.closeTaskDetails())}),a(26,"Fermer"),n()()()()}if(l&2){let e=d();r(12),g(e.selectedTask.title),r(5),f(e.selectedTask.priority),r(),g(e.selectedTask.priority),r(4),f(e.selectedTask.status),r(),g(e.selectedTask.status)}}var J=class l{taskService=v(C);fb=v(H);tasks=this.taskService.tasks;selectedTask=null;doingCount=this.taskService.doingCount;doneCount=this.taskService.doneCount;percentage=this.taskService.progressPercentage;todoCount=this.taskService.todoCount;editingTaskId=null;taskForm=this.fb.group({title:["",z.required],priority:["low"]});onSubmit(){if(this.taskForm.valid){let i=this.taskForm.value;this.taskService.addTask(i.title,i.priority),this.taskForm.reset({priority:"low"})}}onDelete(i){this.taskService.deleteTask(i)}startEdit(i){this.editingTaskId=i}cancelEdit(){this.editingTaskId=null}saveEdit(i,e,o){let s=P(M({},i),{title:e,status:o});this.taskService.updateTask(s),this.editingTaskId=null}openTaskDetails(i){this.selectedTask=i}closeTaskDetails(){this.selectedTask=null}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=E({type:l,selectors:[["app-tasks"]],decls:52,vars:10,consts:[["titleInput",""],["statusInput",""],[1,"task-creation-container"],[1,"task-form",3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","title","placeholder","Que devez-vous faire ?",1,"form-input"],["formControlName","priority",1,"form-select"],["value","low"],["value","medium"],["value","high"],["type","submit",1,"btn-add",3,"disabled"],[1,"bi","bi-plus"],[1,"recent-tasks"],[1,"task-item",3,"editing"],[1,"stats-container"],[1,"stat-card"],[1,"stat-value","text-success"],[1,"stat-label"],[1,"stat-value","text-primary"],[1,"stat-card","progress-card"],[1,"progress-info"],[1,"stat-percentage"],[1,"progress-bar-bg"],[1,"progress-bar-fill"],[1,"modal-overlay"],[1,"task-item"],[1,"edit-mode"],[1,"view-mode"],["type","text",1,"edit-input",3,"value"],[1,"edit-select",3,"value"],["value","todo"],["value","doing"],["value","done"],[1,"edit-actions"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"task-title"],[1,"meta-info"],[1,"status-badge"],[1,"badge"],[1,"actions"],["title","Voir d\xE9tails",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-warning","btn-sm",3,"click"],["title","Supprimer",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"big-detail-item"],[1,"detail-row"],[1,"badge","large"],[1,"status-badge","large"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,o){e&1&&(t(0,"div",2)(1,"h2"),a(2,"Nouvelle T\xE2che"),n(),t(3,"form",3),c("ngSubmit",function(){return o.onSubmit()}),t(4,"div",4),u(5,"input",5),n(),t(6,"div",4)(7,"select",6)(8,"option",7),a(9,"Basse"),n(),t(10,"option",8),a(11,"Moyenne"),n(),t(12,"option",9),a(13,"Haute"),n()()(),t(14,"button",10),a(15," Ajouter "),u(16,"i",11),n()()(),u(17,"hr"),t(18,"div",12)(19,"h3"),a(20,"Taches r\xE9centes"),n(),t(21,"ul"),O(22,te,3,3,"li",13,X,!1,ne,2,0,"li"),n(),u(25,"hr"),t(26,"div",14)(27,"div",15)(28,"span",16),a(29),n(),t(30,"span",17),a(31,"Todo"),n()(),t(32,"div",15)(33,"span",18),a(34),n(),t(35,"span",17),a(36,"En cours"),n()(),t(37,"div",15)(38,"span",16),a(39),n(),t(40,"span",17),a(41,"Termin\xE9es"),n()(),t(42,"div",19)(43,"div",20)(44,"span",17),a(45,"Progression globale"),n(),t(46,"span",21),a(47),n()(),t(48,"div",22),u(49,"div",23),n()()(),u(50,"hr"),n(),T(51,ie,27,7,"div",24)),e&2&&(r(3),_("formGroup",o.taskForm),r(11),_("disabled",!o.taskForm.valid),r(8),I(o.tasks()),r(7),g(o.todoCount()),r(5),g(o.doingCount()),r(5),g(o.doneCount()),r(8),D("",o.percentage(),"%"),r(2),V("width",o.percentage(),"%"),r(2),S(o.selectedTask?51:-1))},dependencies:[Q,$,Y,q,N,R,j,A,U,G,B],styles:["[_nghost-%COMP%]{display:block;max-width:900px;margin:0 auto;padding:24px 16px;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-weight:600;margin-bottom:16px}.task-creation-container[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:24px;box-shadow:0 8px 24px #0000000f;margin-bottom:32px}.task-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 160px auto;gap:12px}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{height:42px;padding:0 12px;border-radius:6px;border:1px solid #d1d5db;font-size:14px}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#6366f1}.btn-add[_ngcontent-%COMP%]{height:42px;padding:0 18px;border-radius:6px;border:none;background:#6366f1;color:#fff;font-weight:600;cursor:pointer}.btn-add[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@media(max-width:640px){.task-form[_ngcontent-%COMP%]{grid-template-columns:1fr}}.recent-tasks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.task-item[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;margin-bottom:12px;box-shadow:0 4px 12px #0000000a;transition:background-color .2s ease}.task-item.editing[_ngcontent-%COMP%]{background-color:#f8fafc;border:1px dashed #94a3b8}.view-mode[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}.task-title[_ngcontent-%COMP%]{font-weight:500;flex:1}.meta-info[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.badge[_ngcontent-%COMP%], .status-badge[_ngcontent-%COMP%]{font-size:12px;padding:4px 10px;border-radius:999px;font-weight:600;text-transform:capitalize}.badge.low[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151}.badge.medium[_ngcontent-%COMP%]{background:#fde68a;color:#92400e}.badge.high[_ngcontent-%COMP%]{background:#fecaca;color:#991b1b}.status-badge.todo[_ngcontent-%COMP%]{background:#e0e7ff;color:#3730a3}.status-badge.doing[_ngcontent-%COMP%]{background:#fde68a;color:#92400e}.status-badge.done[_ngcontent-%COMP%]{background:#bbf7d0;color:#065f46}.actions[_ngcontent-%COMP%]{display:flex;gap:6px}.edit-mode[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.edit-input[_ngcontent-%COMP%], .edit-select[_ngcontent-%COMP%]{height:40px;padding:0 12px;border-radius:6px;border:1px solid #cbd5f5}.edit-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;width:90%;max-width:500px;box-shadow:0 10px 25px #0003;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;padding-bottom:15px;margin-bottom:20px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;cursor:pointer;line-height:1}.big-detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;text-transform:uppercase;letter-spacing:1px}.big-detail-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin:5px 0 20px;color:#333}.detail-row[_ngcontent-%COMP%]{display:flex;gap:30px}.badge.large[_ngcontent-%COMP%], .status-badge.large[_ngcontent-%COMP%]{font-size:1.2rem;padding:8px 16px}.stats-container[_ngcontent-%COMP%]{display:flex;gap:20px;margin:20px 0;justify-content:space-between}.stat-card[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:8px;text-align:center;flex:1;border:1px solid #eee}.stat-value[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700}.stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;text-transform:uppercase;letter-spacing:.5px}.progress-card[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;justify-content:center}.progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.stat-percentage[_ngcontent-%COMP%]{font-weight:700;color:#28a745}.progress-bar-bg[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e9ecef;border-radius:4px;overflow:hidden}.progress-bar-fill[_ngcontent-%COMP%]{height:100%;background-color:#28a745;transition:width .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"],changeDetection:0})};export{J as Tasks};
